{% extends "layouts/base.html" %}
{% block title %}Tasks List{% endblock %}

{% block content %}

<h1>Tasks List</h1>

<a href="/add/" class="add-btn">+ Add New Task</a>

<table>
    <tr>
        <th>Title</th>
        <th>Priority</th>
        <th>Type</th>
        <th>Due Date</th>
        <th>Due Time</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>

    {% for task in tasks %}
    <tr>
        <td>{{ task.title }}</td>
        <td>{{ task.priority }}</td>
        <td>{{ task.task_type }}</td>
        <td>
            {% if task.task_type == "Specific" %}
                {{ task.due_date }}
            {% else %}
                —
            {% endif %}
        </td>
        <td>{{ task.due_time }}</td>
        <td>{{ task.status }}</td>
        <td>
            <a href="/details/{{ task.id }}/" class="action-link">View</a>
            <a href="/edit/{{ task.id }}/" class="action-link">Edit</a>
            <a href="/delete/{{ task.id }}/" class="delete-link">Delete</a>

            {% if task.status == "Pending" %}
                <a href="/complete/{{ task.id }}/" class="action-link">Complete ✔</a>
            {% else %}
                <span class="status-done">Completed ✓</span>
            {% endif %}
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="7" style="text-align:center;">No tasks found.</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
